{"ast":null,"code":"'use strict';\n\nfunction escapeArgument(arg, quote) {\n  // Convert to string\n  arg = '' + arg; // If we are not going to quote the argument,\n  // escape shell metacharacters, including double and single quotes:\n\n  if (!quote) {\n    arg = arg.replace(/([()%!^<>&|;,\"'\\s])/g, '^$1');\n  } else {\n    // Sequence of backslashes followed by a double quote:\n    // double up all the backslashes and escape the double quote\n    arg = arg.replace(/(\\\\*)\"/g, '$1$1\\\\\"'); // Sequence of backslashes followed by the end of the string\n    // (which will become a double quote later):\n    // double up all the backslashes\n\n    arg = arg.replace(/(\\\\*)$/, '$1$1'); // All other backslashes occur literally\n    // Quote the whole thing:\n\n    arg = '\"' + arg + '\"';\n  }\n\n  return arg;\n}\n\nmodule.exports = escapeArgument;","map":null,"metadata":{},"sourceType":"script"}