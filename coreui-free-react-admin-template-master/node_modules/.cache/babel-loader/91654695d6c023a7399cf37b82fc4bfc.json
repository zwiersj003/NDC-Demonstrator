{"ast":null,"code":"import _objectSpread from \"/Users/jasper/Documents/Documents/Zorgtechnologie/Programming/Demonstrator/NDC-Demonstrator/coreui-free-react-admin-template-master/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/jasper/Documents/Documents/Zorgtechnologie/Programming/Demonstrator/NDC-Demonstrator/coreui-free-react-admin-template-master/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jasper/Documents/Documents/Zorgtechnologie/Programming/Demonstrator/NDC-Demonstrator/coreui-free-react-admin-template-master/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jasper/Documents/Documents/Zorgtechnologie/Programming/Demonstrator/NDC-Demonstrator/coreui-free-react-admin-template-master/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jasper/Documents/Documents/Zorgtechnologie/Programming/Demonstrator/NDC-Demonstrator/coreui-free-react-admin-template-master/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jasper/Documents/Documents/Zorgtechnologie/Programming/Demonstrator/NDC-Demonstrator/coreui-free-react-admin-template-master/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jasper/Documents/Documents/Zorgtechnologie/Programming/Demonstrator/NDC-Demonstrator/coreui-free-react-admin-template-master/src/views/Ndc/Rapportage/Rapportage.js\";\nimport React, { Component } from 'react';\nimport { Button, Card, CardBody } from 'reactstrap';\nimport ReactTable from 'react-table';\nimport toastr from 'toastr';\nimport _ from 'lodash';\nimport LocationFilter from '../../../components/Filter/LocationFilter';\nimport ModuleFilter from '../../../components/Filter/ModuleFilter';\nimport StatusFilter from '../../../components/Filter/StatusFilter';\n\nvar Rapportage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Rapportage, _Component);\n\n  function Rapportage(props) {\n    var _this;\n\n    _classCallCheck(this, Rapportage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Rapportage).call(this, props));\n\n    _this.getDeelnemers = function (_) {\n      fetch(\"http://dev.jasperzwiers.eu/deelnemers\").then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        return _this.setState({\n          deelnemers: response.data\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.getModules = function (_) {\n      fetch('http://dev.jasperzwiers.eu/modules').then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        return _this.setState(_objectSpread({}, _this.state, {\n          modules: response.data\n        }), function () {\n          _this.getAllFilterData();\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n\n      _this.forceUpdate();\n    };\n\n    _this.state = {\n      deelnemers: [{\n        deelnemerID: '',\n        voornaam: '',\n        achternaam: '',\n        geboortedatum: '',\n        verblijfstatus: ''\n      }],\n      modules: [{\n        naam: '',\n        locatie: '',\n        moduleID: '',\n        jaar: '',\n        voornaam: '',\n        achternaam: '',\n        telefoonnummer: '',\n        email: '',\n        amountOfDeelnemers: ''\n      }],\n      locations: [],\n      statuses: []\n    };\n    return _this;\n  }\n\n  _createClass(Rapportage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getDeelnemers();\n      this.getModules();\n    }\n  }, {\n    key: \"addFilter\",\n    value: function addFilter() {\n      var filter = {\n        naam: ''\n      };\n      var filteredModules = this.state.modules.filter(function (item) {\n        for (var key in filter) {\n          if (item[key] === undefined || item[key] != filter[key]) return false;\n        }\n\n        return true;\n      });\n      console.log(filteredModules);\n    }\n  }, {\n    key: \"getAllFilterData\",\n    value: function getAllFilterData() {\n      this.getAllLocations();\n      this.getAllStatuses();\n      this.addFilter();\n    }\n  }, {\n    key: \"getAllLocations\",\n    value: function getAllLocations() {\n      var locations = _.chain(this.state.modules).countBy('locatie').map(function (count, locatie) {\n        return {\n          locatie: locatie\n        };\n      }).value();\n\n      console.log(locations);\n      this.setState({\n        locations: locations\n      });\n    }\n  }, {\n    key: \"getAllStatuses\",\n    value: function getAllStatuses() {\n      var statuses = _.chain(this.state.deelnemers).countBy('verblijfstatus').map(function (count, status) {\n        return {\n          status: status\n        };\n      }).value();\n\n      console.log(statuses);\n      this.setState({\n        statuses: statuses\n      });\n    }\n  }, {\n    key: \"downloadRapportage\",\n    value: function downloadRapportage() {\n      this.count = this.count || 1;\n      toastr.options = {\n        positionClass: 'toast-top-right',\n        hideDuration: 30,\n        timeOut: 10000\n      };\n      toastr.clear();\n      setTimeout(function () {\n        return toastr.warning(\"Rapportage downloaden/printen werkt nog niet\");\n      }, 300);\n    } // testLodash() {\n    //     console.log(_.filter(this.state.modules, { locatie: 'Amsterdam' }))\n    //     console.log(_.chain(this.state.modules).countBy('locatie').map((count, locatie) => ({ locatie })).value())\n    // }\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          deelnemers = _this$state.deelnemers,\n          modules = _this$state.modules,\n          locations = _this$state.locations,\n          statuses = _this$state.statuses;\n      var columns = [{\n        Header: 'ID',\n        accessor: 'deelnemerID'\n      }, {\n        Header: 'Voornaam',\n        accessor: 'voornaam'\n      }, {\n        Header: 'Achternaam',\n        accessor: 'achternaam'\n      }, {\n        Header: 'Geboortedatum',\n        accessor: 'geboortedatum'\n      }, {\n        Header: 'Verblijfstatus',\n        accessor: 'verblijfstatus'\n      }];\n      return React.createElement(\"div\", {\n        className: \"animated fadeIn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"rapportage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(Button, {\n        id: \"download-button\",\n        onClick: function onClick() {\n          _this2.downloadRapportage();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Download Rapportage\"))), React.createElement(\"div\", {\n        className: \"card card-filters\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Filters\"), React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"deelnemer-card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Filteren op:\"), React.createElement(LocationFilter, {\n        locations: locations,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), React.createElement(ModuleFilter, {\n        modules: modules,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), React.createElement(StatusFilter, {\n        statuses: statuses,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"col-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card card-rapportage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"Rapportage\"), React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(ReactTable, {\n        className: \"-striped -highlight\",\n        data: deelnemers,\n        columns: columns,\n        defaultPageSize: 20,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return Rapportage;\n}(Component);\n\nexport default Rapportage;","map":{"version":3,"sources":["/Users/jasper/Documents/Documents/Zorgtechnologie/Programming/Demonstrator/NDC-Demonstrator/coreui-free-react-admin-template-master/src/views/Ndc/Rapportage/Rapportage.js"],"names":["React","Component","Button","Card","CardBody","ReactTable","toastr","_","LocationFilter","ModuleFilter","StatusFilter","Rapportage","props","getDeelnemers","fetch","then","response","json","setState","deelnemers","data","catch","err","console","log","getModules","state","modules","getAllFilterData","forceUpdate","deelnemerID","voornaam","achternaam","geboortedatum","verblijfstatus","naam","locatie","moduleID","jaar","telefoonnummer","email","amountOfDeelnemers","locations","statuses","filter","filteredModules","item","key","undefined","getAllLocations","getAllStatuses","addFilter","chain","countBy","map","count","value","status","options","positionClass","hideDuration","timeOut","clear","setTimeout","warning","columns","Header","accessor","downloadRapportage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Button, Card, CardBody } from 'reactstrap'\nimport ReactTable from 'react-table'\nimport toastr from 'toastr'\nimport _ from 'lodash'\nimport LocationFilter from '../../../components/Filter/LocationFilter'\nimport ModuleFilter from '../../../components/Filter/ModuleFilter'\nimport StatusFilter from '../../../components/Filter/StatusFilter'\n\nclass Rapportage extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            deelnemers: [{\n                deelnemerID: '',\n                voornaam: '',\n                achternaam: '',\n                geboortedatum: '',\n                verblijfstatus: ''\n            }],\n            modules: [{\n                naam: '',\n                locatie: '',\n                moduleID: '',\n                jaar: '',\n                voornaam: '',\n                achternaam: '',\n                telefoonnummer: '',\n                email: '',\n                amountOfDeelnemers: ''\n            }],\n            locations: [],\n            statuses: []\n        }\n    }\n\n    componentDidMount() {\n        this.getDeelnemers()\n        this.getModules()\n    }\n\n    addFilter() {\n        var filter = { naam: '' }\n        var filteredModules = this.state.modules.filter(function (item) {\n            for (var key in filter) {\n                if (item[key] === undefined || item[key] != filter[key])\n                    return false;\n            }\n            return true;\n        });\n\n        console.log(filteredModules)\n    }\n\n    getDeelnemers = _ => {\n        fetch(`http://dev.jasperzwiers.eu/deelnemers`)\n            .then(response => response.json())\n            .then(response => this.setState({ deelnemers: response.data }))\n            .catch(err => console.log(err))\n    }\n\n    getModules = _ => {\n        fetch('http://dev.jasperzwiers.eu/modules')\n            .then(response => response.json())\n            .then(response => this.setState({ ...this.state, modules: response.data },  () => { this.getAllFilterData() }))\n            .catch(err => console.log(err))\n        this.forceUpdate()\n    }\n\n    getAllFilterData() {\n        this.getAllLocations()\n        this.getAllStatuses()\n        this.addFilter()\n    }\n\n    getAllLocations() {\n        var locations = _.chain(this.state.modules).countBy('locatie').map((count, locatie) => ({ locatie })).value()\n        console.log(locations)\n        this.setState({ locations: locations });\n    }\n\n    getAllStatuses() {\n        var statuses = _.chain(this.state.deelnemers).countBy('verblijfstatus').map((count, status) => ({ status })).value()\n        console.log(statuses)\n        this.setState({ statuses: statuses });\n    }\n\n    downloadRapportage() {\n        this.count = this.count || 1\n        toastr.options = {\n            positionClass: 'toast-top-right',\n            hideDuration: 30,\n            timeOut: 10000\n        }\n        toastr.clear()\n        setTimeout(() => toastr.warning(`Rapportage downloaden/printen werkt nog niet`), 300)\n    }\n\n    // testLodash() {\n    //     console.log(_.filter(this.state.modules, { locatie: 'Amsterdam' }))\n    //     console.log(_.chain(this.state.modules).countBy('locatie').map((count, locatie) => ({ locatie })).value())\n    // }\n\n    render() {\n        let { deelnemers, modules, locations, statuses } = this.state\n\n        const columns = [{\n            Header: 'ID',\n            accessor: 'deelnemerID'\n        },\n        {\n            Header: 'Voornaam',\n            accessor: 'voornaam'\n        },\n        {\n            Header: 'Achternaam',\n            accessor: 'achternaam'\n        },\n        {\n            Header: 'Geboortedatum',\n            accessor: 'geboortedatum'\n        },\n        {\n            Header: 'Verblijfstatus',\n            accessor: 'verblijfstatus'\n        }]\n\n        return (\n            <div className=\"animated fadeIn\">\n                <div className=\"rapportage\">\n                    <div className=\"row\">\n                        <div className=\"col-3\">\n                            <Card>\n                                <CardBody>\n                                    <Button id=\"download-button\" onClick={() => { this.downloadRapportage() }}>Download Rapportage</Button>\n                                </CardBody>\n                            </Card>\n                            <div className=\"card card-filters\">\n                                <div className=\"card-header\">\n                                    Filters\n                                </div>\n                                <div className=\"card-body\">\n                                    <div className=\"deelnemer-card\">\n                                        <h2>Filteren op:</h2>\n                                        <LocationFilter locations={locations} />\n                                        <ModuleFilter modules={modules} />\n                                        <StatusFilter statuses={statuses}/>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"col-9\">\n                            <div className=\"card card-rapportage\">\n                                <div className=\"card-header\">\n                                    Rapportage\n                                </div>\n                                <div className=\"card-body\">\n                                    <ReactTable className=\"-striped -highlight\" data={deelnemers} columns={columns} defaultPageSize={20} />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Rapportage"]},"metadata":{},"sourceType":"module"}